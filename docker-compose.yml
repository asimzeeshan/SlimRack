services:
  slimrack:
    build: .
    container_name: slimrack
    restart: unless-stopped
    ports:
      - "8080:80"
    volumes:
      - ./storage:/var/www/html/storage
      - ./.env:/var/www/html/.env:ro
    environment:
      - VIRTUAL_PORT=80
      # For nginx-proxy setups, uncomment and configure:
      # - VIRTUAL_HOST=inventory.yourdomain.com
      # - LETSENCRYPT_HOST=inventory.yourdomain.com
      # - LETSENCRYPT_EMAIL=admin@yourdomain.com
    # For nginx-proxy networks, uncomment:
    # networks:
    #   - webproxy

  # Optional: MySQL database (uncomment to use instead of SQLite)
  # mysql:
  #   image: mysql:8.0
  #   container_name: slimrack-db
  #   restart: unless-stopped
  #   environment:
  #     MYSQL_ROOT_PASSWORD: slimrack_root_pass
  #     MYSQL_DATABASE: slimrack
  #     MYSQL_USER: slimrack
  #     MYSQL_PASSWORD: slimrack_pass
  #   volumes:
  #     - mysql_data:/var/lib/mysql
  #   ports:
  #     - "3306:3306"

# Uncomment if using nginx-proxy:
# networks:
#   webproxy:
#     external: true
#     name: webproxy

# Uncomment if using MySQL:
# volumes:
#   mysql_data:
